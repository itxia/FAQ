## 11、蓝屏问题解决方案（试验性内容） {#11}

由于蓝屏出现原因千变万化，仅靠蓝屏中的错误代码无法确认出错原因，因此我们提供了一系列的操作，以便我们能够更好地协助遇到问题的同学解决蓝屏。

**_注意：本节为试验性内容，请在IT侠指导下进行操作，欢迎爱折腾的人一起研究。_**

### 11.1、正式开始前的准备工作 {#11-1}

<font color=red>特别提醒：由于蓝屏信息分析需要一定的技术手段，<b>如果条件允许请在预约网站中预约</b>，并表明需要分析蓝屏错误信息，我们会派人联系进一步的处理。<b>在IT侠联系前，可以进行本节（11.1）和下一节（11.2）的操作，先行收集需要的信息。</b> </font>

**请依次进行以下操作，确认各项设置是否正常。**

*   将各类杀毒软件、管家软件设置中的开机自动启动取消，并退出此类软件。
*   打开文件资源管理器（快捷键Win+E），右键“此电脑”，点击属性，点击左侧的“高级系统设置”
*   在“启动和恢复”中点击“设置”，检查“系统错误”中的各项设置是否按照如下的设置：
    *   向系统日志中写入事件：勾选
    *   自动重启：勾选
    *   写入Debug信息：小内存转储
    *   小型转储目录：%SystemRoot%\Minidump
*   如果以上设置均正确，那么可以开始准备收集蓝屏信息了。

### 11.2、确认是否有现有蓝屏信息 {#11-2}

请在`` C:\Windows\Minidump ``目录中查找是否有最近蓝屏发生时段对应的`` .dmp ``文件，如果有，将其保存在安全的位置，如果没有，请在IT侠指导下进行第三节。

### 11.3、收集蓝屏信息 {#11-3}

<b><font color=red>注意：此方法通过修改系统开机方式来遍历检测（并且不会自动恢复），所以需要手动关闭该设置，如果开启后陷入蓝屏循环是正常的，不必慌张。想要关掉需要进安全模式设置，因此存在一些技术门槛，敬请注意！</font></b>

**请依次进行以下操作，以进行收集信息操作：**

*   请保存电脑中正在进行的工作，关闭其他程序。
*   同时按`` Win+R ``组合键，在弹出的输入框中输入`` verifier ``，回车。
*   同意弹出的UAC确认框。
    *   在”驱动校验管理“窗口中，选择”创建自定义设置“，单击”下一步”。
    *   在列表中选中”杂项检查“（Miscellaneous Check)，单击”下一步“。
    *   在”选择需要校验的驱动”中，选中“自动选择此计算机上安装的所有驱动”，单击“完成”。
    *   确认弹出的窗口后，重新启动计算机。
*   重新启动后等待系统自动校验，遇到错误则会自动出现蓝屏信息。
*   **_注意：重启后请不要进行其他工作。_**
*   蓝屏信息结束后，请在`` C:\Windows\Minidump ``目录中找到最新生产的`` .dmp ``文件，将其保存到安全的位置。
*   等待IT侠联系你时，将上一步保存的`` *.dmp ``文件交由IT侠进行分析处理，IT侠会告知结果和蓝屏应对方法。
*   （可选）有钻研精神的大兄弟可以试着自己分析

### 11.4、DMP文件简单分析（仅限于蓝屏） {#11-4-dmp}

*   首先下载**WinDbg工具**：WinDbg下载 或者直接在 **微软商店寻找“WinDbg”**
*   运行WinDbg，将`` *.dmp ``文件拖入，然后等待下一步命令
*   当输出窗口中出现提示标蓝`` !analyze -v ``之类的信息时，继续点击蓝字获取更详细的内容
*   该分析可能会给出具体的错误代码、可能造成问题的文件（一般是*.sys）、相关进程
*   在互联网上搜索相关文件具体的信息（也可以在**运行-输入msinfo32-软件环境-驱动程序**查看对应信息），比如，xxx.sys是某独立显卡相关的驱动程序，那就尝试重装该驱动等改动，再试验是否会复现bug。驱动重装相关方法参见**第13.2节。**